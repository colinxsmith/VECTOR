<h1 style="text-align: center;" id="tableLabel">
    ETL Optimisation</h1>
<div class="maindiv" *ngIf="opt&&opt[0]">
    <button (mouseover)="over($event,true)" (mouseleave)="over($event)" (click)="sendStep()">Send New Optimisation Parameters</button>
    <table style="width:100%">
        <tr>
            <td *ngIf="opt[0].back==0" style="color:greenyellow; text-align:justify">{{opt[0].message}}</td>
            <td *ngIf="opt[0].back==1||opt[0].back==-1" style="color:orangered; text-align:justify">{{opt[0].message}}</td>
            <td *ngIf="opt[0].back==6||opt[0].back==-6" style="color:crimson; text-align:justify">{{opt[0].message}}</td>
            <td *ngIf="opt[0].back>6||opt[0].back<-6" style="color:crimson; text-align:justify">{{opt[0].message}}</td>
            <td *ngIf="opt[0].back>1&&opt[0].back<6" style="color:crimson; text-align:justify">{{opt[0].message}}</td>
            <td *ngIf="opt[0].back<-1&&opt[0].back>-6" style="color:crimson; text-align:justify">{{opt[0].message}}</td>
            <td>Return: {{format(opt[0].expreturn)}}</td>
            <td>Risk: {{format(opt[0].risk)}}</td>
            <td>ETL: {{format(opt[0].etl)}}</td>
            <td>VAR: {{format(opt[0].var)}}</td>
            <td>VAR index: {{opt[0].vaRindex}}</td>
            <td>tail: {{opt[0].tail!=undefined?opt[0].tail:0}}</td>
            <td>gamma: {{opt[0].gamma}}<br>Set: <input class="step g" style="width:5em" [min]="0" [max]="1" [value]="opt[0].gamma"></td>
            <td>ETLmax: {{opt[0].etLmax}}<br>Set: <input class="step E" style="width:5em" [min]="0" [max]="1" [value]="opt[0].etLmax"></td>
        </tr>
        <td>
            <app-barplot *ngIf="opt&&opt[0].w" [title]="'Portfolio weights'" [height]="height" [width]="width" [DATA]="opt[0].w"></app-barplot>
        </td>
    </table>
</div>